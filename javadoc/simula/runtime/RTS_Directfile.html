<!DOCTYPE HTML>
<html lang="no">
<head>
<!-- Generated by javadoc (24) on Tue Feb 04 10:12:04 CET 2025 -->
<title>RTS_Directfile</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-02-04">
<meta name="description" content="declaration: package: simula.runtime, class: RTS_Directfile">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../script-files/script.js"></script>
<script type="text/javascript" src="../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../search.html">Search</a></li>
<li><a href="../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">simula.runtime</a></li>
<li><a href="RTS_Directfile.html" class="current-selection">RTS_Directfile</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#field-detail" tabindex="0">Field Details</a>
<ol class="toc-list">
<li><a href="#_LOC" tabindex="0">_LOC</a></li>
<li><a href="#_MAXLOC" tabindex="0">_MAXLOC</a></li>
<li><a href="#_LOCKED" tabindex="0">_LOCKED</a></li>
<li><a href="#_RECORDSIZE" tabindex="0">_RECORDSIZE</a></li>
<li><a href="#randomAccessFile" tabindex="0">randomAccessFile</a></li>
<li><a href="#fileLock" tabindex="0">fileLock</a></li>
<li><a href="#INITIAL_LAST_LOC" tabindex="0">INITIAL_LAST_LOC</a></li>
</ol>
</li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(simula.runtime.RTS_RTObject,simula.runtime.RTS_TXT)" tabindex="0">RTS_Directfile(RTS_RTObject, RTS_TXT)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#_STM()" tabindex="0">_STM()</a></li>
<li><a href="#location()" tabindex="0">location()</a></li>
<li><a href="#endfile()" tabindex="0">endfile()</a></li>
<li><a href="#locked()" tabindex="0">locked()</a></li>
<li><a href="#open(simula.runtime.RTS_TXT)" tabindex="0">open(RTS_TXT)</a></li>
<li><a href="#close()" tabindex="0">close()</a></li>
<li><a href="#locate(int)" tabindex="0">locate(int)</a></li>
<li><a href="#lastloc()" tabindex="0">lastloc()</a></li>
<li><a href="#maxloc()" tabindex="0">maxloc()</a></li>
<li><a href="#inimage()" tabindex="0">inimage()</a></li>
<li><a href="#outimage()" tabindex="0">outimage()</a></li>
<li><a href="#deleteimage()" tabindex="0">deleteimage()</a></li>
<li><a href="#checkpoint()" tabindex="0">checkpoint()</a></li>
<li><a href="#lock(float,int,int)" tabindex="0">lock(float, int, int)</a></li>
<li><a href="#unlock()" tabindex="0">unlock()</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class RTS_Directfile" class="title">Class RTS_Directfile</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="RTS_RTObject.html" title="class in simula.runtime">simula.runtime.RTS_RTObject</a>
<div class="inheritance"><a href="RTS_ENVIRONMENT.html" title="class in simula.runtime">simula.runtime.RTS_ENVIRONMENT</a>
<div class="inheritance"><a href="RTS_BASICIO.html" title="class in simula.runtime">simula.runtime.RTS_BASICIO</a>
<div class="inheritance"><a href="RTS_CLASS.html" title="class in simula.runtime">simula.runtime.RTS_CLASS</a>
<div class="inheritance"><a href="RTS_File.html" title="class in simula.runtime">simula.runtime.RTS_File</a>
<div class="inheritance"><a href="RTS_Imagefile.html" title="class in simula.runtime">simula.runtime.RTS_Imagefile</a>
<div class="inheritance">simula.runtime.RTS_Directfile</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">RTS_Directfile</span>
<span class="extends-implements">extends <a href="RTS_Imagefile.html" title="class in simula.runtime">RTS_Imagefile</a></span></div>
<div class="block"><p>System class Directfile.</p>
<pre>
 imagefile class directfile;
    begin integer LOC, MAXLOC; Boolean ENDFILE, LOCKED;
       integer procedure location; location:= LOC;
       Boolean procedure endfile; endfile := ENDFILE;
       Boolean procedure locked; locked  := LOCKED;
       Boolean procedure open(fileimage); text fileimage;
       Boolean procedure close;
       integer procedure lastloc;
       integer procedure maxloc;
       procedure locate(i); integer i; 
       procedure inimage; 
       procedure outimage; 
       Boolean procedure deleteimage; 
       character procedure inchar; 
       integer procedure lock(t,i,j); real t; integer i,j; 
       Boolean procedure unlock; 
       Boolean procedure checkpoint; 
       Boolean procedure lastitem; 
       text procedure intext; 
       integer procedure inint; 
       long real procedure inreal; 
       integer procedure infrac; 
       procedure outchar(c); character c; 
       procedure outtext(t); text t; 
       text procedure FIELD(w); integer w;
       procedure outint(i,w); integer i,w; 
       procedure outfix(r,n,w); long real r; integer n,w; 
       procedure outreal(r,n,w); long real r; integer n,w; 
       procedure outfrac(i,n,w); integer i,n,w; 

       ENDFILE:= true
       ...
 end directfile;
</pre>
<p>An object of the class &quot;directfile&quot; is used to represent an image-oriented
direct file in which the individual images are addressable by ordinal
numbers.</p>
<p>The variable LOC is defined to represent such ordinal numbers. When the file
is closed, the value of LOC is zero.</p>
<p>Link to GitHub: <a href="https://github.com/portablesimula/SimulaCompiler2/blob/master/Simula/src/simula/runtime/RTS_Directfile.java"><b>Source File</b></a>.</p>
</div>
<dl class="notes">
<dt>Author:</dt>
<dd>SIMULA Standards Group, Ã˜ystein Myhre Andersen</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h3 id="nested-classes-inherited-from-class-simula.runtime.RTS_File">Nested classes/interfaces inherited from class&nbsp;simula.runtime.<a href="RTS_File.html" title="class in simula.runtime">RTS_File</a></h3>
<code><a href="RTS_File._CreateAction.html" title="enum class in simula.runtime">RTS_File._CreateAction</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>(package private) int</code></div>
<div class="col-second even-row-color"><code><a href="#_LOC" class="member-name-link">_LOC</a></code></div>
<div class="col-last even-row-color">
<div class="block">The variable LOC contains the current ordinal number.</div>
</div>
<div class="col-first odd-row-color"><code>(package private) boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#_LOCKED" class="member-name-link">_LOCKED</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The variable &quot;LOCKED&quot; indicates whether the file is currently locked by the
executing program.</div>
</div>
<div class="col-first even-row-color"><code>(package private) int</code></div>
<div class="col-second even-row-color"><code><a href="#_MAXLOC" class="member-name-link">_MAXLOC</a></code></div>
<div class="col-last even-row-color">
<div class="block">The variable MAXLOC indicates the maximum possible location on the external
file.</div>
</div>
<div class="col-first odd-row-color"><code>(package private) int</code></div>
<div class="col-second odd-row-color"><code><a href="#_RECORDSIZE" class="member-name-link">_RECORDSIZE</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The variable &quot;RECORDSIZE&quot; is the fixed size of all external images.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/nio/channels/FileLock.html" title="class or interface in java.nio.channels" class="external-link">FileLock</a></code></div>
<div class="col-second even-row-color"><code><a href="#fileLock" class="member-name-link">fileLock</a></code></div>
<div class="col-last even-row-color">
<div class="block">The underlying FileLock</div>
</div>
<div class="col-first odd-row-color"><code>private int</code></div>
<div class="col-second odd-row-color"><code><a href="#INITIAL_LAST_LOC" class="member-name-link">INITIAL_LAST_LOC</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The initial value of LAST_LOC</div>
</div>
<div class="col-first even-row-color"><code>private <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/io/RandomAccessFile.html" title="class or interface in java.io" class="external-link">RandomAccessFile</a></code></div>
<div class="col-second even-row-color"><code><a href="#randomAccessFile" class="member-name-link">randomAccessFile</a></code></div>
<div class="col-last even-row-color">
<div class="block">The underlying RandomAccessFile used.</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-simula.runtime.RTS_Imagefile">Fields inherited from class&nbsp;simula.runtime.<a href="RTS_Imagefile.html" title="class in simula.runtime">RTS_Imagefile</a></h3>
<code><a href="RTS_Imagefile.html#_ENDFILE">_ENDFILE</a>, <a href="RTS_Imagefile.html#image">image</a></code></div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-simula.runtime.RTS_File">Fields inherited from class&nbsp;simula.runtime.<a href="RTS_File.html" title="class in simula.runtime">RTS_File</a></h3>
<code><a href="RTS_File.html#_APPEND">_APPEND</a>, <a href="RTS_File.html#_CANREAD">_CANREAD</a>, <a href="RTS_File.html#_CANWRITE">_CANWRITE</a>, <a href="RTS_File.html#_CHARSET">_CHARSET</a>, <a href="RTS_File.html#_CREATE">_CREATE</a>, <a href="RTS_File.html#_DEFAULT_BYTESIZE">_DEFAULT_BYTESIZE</a>, <a href="RTS_File.html#_OPEN">_OPEN</a>, <a href="RTS_File.html#_PURGE">_PURGE</a>, <a href="RTS_File.html#_SYNCHRONOUS">_SYNCHRONOUS</a>, <a href="RTS_File.html#FILE_NAME">FILE_NAME</a></code></div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-simula.runtime.RTS_ENVIRONMENT">Fields inherited from class&nbsp;simula.runtime.<a href="RTS_ENVIRONMENT.html" title="class in simula.runtime">RTS_ENVIRONMENT</a></h3>
<code><a href="RTS_ENVIRONMENT.html#_STARTTIME">_STARTTIME</a>, <a href="RTS_ENVIRONMENT.html#CURRENTDECIMALMARK">CURRENTDECIMALMARK</a>, <a href="RTS_ENVIRONMENT.html#CURRENTLOWTEN">CURRENTLOWTEN</a>, <a href="RTS_ENVIRONMENT.html#EXCEPTION_HANDLER">EXCEPTION_HANDLER</a>, <a href="RTS_ENVIRONMENT.html#maxint">maxint</a>, <a href="RTS_ENVIRONMENT.html#maxlongreal">maxlongreal</a>, <a href="RTS_ENVIRONMENT.html#maxreal">maxreal</a>, <a href="RTS_ENVIRONMENT.html#minint">minint</a>, <a href="RTS_ENVIRONMENT.html#minlongreal">minlongreal</a>, <a href="RTS_ENVIRONMENT.html#minreal">minreal</a>, <a href="RTS_ENVIRONMENT.html#simulaReleaseID">simulaReleaseID</a></code></div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-simula.runtime.RTS_RTObject">Fields inherited from class&nbsp;simula.runtime.<a href="RTS_RTObject.html" title="class in simula.runtime">RTS_RTObject</a></h3>
<code><a href="RTS_RTObject.html#_CORUT">_CORUT</a>, <a href="RTS_RTObject.html#_CTX">_CTX</a>, <a href="RTS_RTObject.html#_CUR">_CUR</a>, <a href="RTS_RTObject.html#_DL">_DL</a>, <a href="RTS_RTObject.html#_INPUT_LINELENGTH">_INPUT_LINELENGTH</a>, <a href="RTS_RTObject.html#_JTX">_JTX</a>, <a href="RTS_RTObject.html#_OUTPUT_LINELENGTH">_OUTPUT_LINELENGTH</a>, <a href="RTS_RTObject.html#_SL">_SL</a>, <a href="RTS_RTObject.html#_STATE">_STATE</a>, <a href="RTS_RTObject.html#_SYSIN">_SYSIN</a>, <a href="RTS_RTObject.html#_SYSOUT">_SYSOUT</a>, <a href="RTS_RTObject.html#_USR">_USR</a>, <a href="RTS_RTObject.html#startTimeMs">startTimeMs</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(simula.runtime.RTS_RTObject,simula.runtime.RTS_TXT)" class="member-name-link">RTS_Directfile</a><wbr>(<a href="RTS_RTObject.html" title="class in simula.runtime">RTS_RTObject</a>&nbsp;SL,
 <a href="RTS_TXT.html" title="class in simula.runtime">RTS_TXT</a>&nbsp;FN)</code></div>
<div class="col-last even-row-color">
<div class="block">Create a new _Directbytefile.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="RTS_Directfile.html" title="class in simula.runtime">RTS_Directfile</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#_STM()" class="member-name-link">_STM</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Method representing the Statements in this Block
<br>
This method is virtual and must be redefined in blocks.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#checkpoint()" class="member-name-link">checkpoint</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure checkpoint.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure close.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteimage()" class="member-name-link">deleteimage</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure deleteimage.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#endfile()" class="member-name-link">endfile</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The variable ENDFILE is true when the file is closed or when an image with
location greater than &quot;lastloc&quot; has been input (through &quot;inimage&quot;).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#inimage()" class="member-name-link">inimage</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The Procedure Inimage.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#lastloc()" class="member-name-link">lastloc</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure lastloc.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#locate(int)" class="member-name-link">locate</a><wbr>(int&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure locate.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#location()" class="member-name-link">location</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure &quot;location&quot; returns the current value of LOC.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#lock(float,int,int)" class="member-name-link">lock</a><wbr>(float&nbsp;timelimit,
 int&nbsp;loc1,
 int&nbsp;loc2)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure lock.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#locked()" class="member-name-link">locked</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the value _LOCKED.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#maxloc()" class="member-name-link">maxloc</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure maxloc.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#open(simula.runtime.RTS_TXT)" class="member-name-link">open</a><wbr>(<a href="RTS_TXT.html" title="class in simula.runtime">RTS_TXT</a>&nbsp;IMAGE)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure open.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#outimage()" class="member-name-link">outimage</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure outimage.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unlock()" class="member-name-link">unlock</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The procedure unlock.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-simula.runtime.RTS_Imagefile">Methods inherited from class&nbsp;simula.runtime.<a href="RTS_Imagefile.html" title="class in simula.runtime">RTS_Imagefile</a></h3>
<code><a href="RTS_Imagefile.html#inchar()">inchar</a>, <a href="RTS_Imagefile.html#infrac()">infrac</a>, <a href="RTS_Imagefile.html#inint()">inint</a>, <a href="RTS_Imagefile.html#inreal()">inreal</a>, <a href="RTS_Imagefile.html#intext(int)">intext</a>, <a href="RTS_Imagefile.html#lastitem()">lastitem</a>, <a href="RTS_Imagefile.html#length()">length</a>, <a href="RTS_Imagefile.html#more()">more</a>, <a href="RTS_Imagefile.html#outchar(char)">outchar</a>, <a href="RTS_Imagefile.html#outfix(double,int,int)">outfix</a>, <a href="RTS_Imagefile.html#outfix(float,int,int)">outfix</a>, <a href="RTS_Imagefile.html#outfrac(int,int,int)">outfrac</a>, <a href="RTS_Imagefile.html#outint(int,int)">outint</a>, <a href="RTS_Imagefile.html#outreal(double,int,int)">outreal</a>, <a href="RTS_Imagefile.html#outreal(float,int,int)">outreal</a>, <a href="RTS_Imagefile.html#outtext(java.lang.String)">outtext</a>, <a href="RTS_Imagefile.html#outtext(simula.runtime.RTS_TXT)">outtext</a>, <a href="RTS_Imagefile.html#pos()">pos</a>, <a href="RTS_Imagefile.html#setpos(int)">setpos</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-simula.runtime.RTS_File">Methods inherited from class&nbsp;simula.runtime.<a href="RTS_File.html" title="class in simula.runtime">RTS_File</a></h3>
<code><a href="RTS_File.html#doCreateAction()">doCreateAction</a>, <a href="RTS_File.html#doPurgeAction()">doPurgeAction</a>, <a href="RTS_File.html#filename()">filename</a>, <a href="RTS_File.html#isopen()">isopen</a>, <a href="RTS_File.html#setaccess(simula.runtime.RTS_TXT)">setaccess</a>, <a href="RTS_File.html#setCharset(java.lang.String)">setCharset</a>, <a href="RTS_File.html#TRACE_OPEN(java.lang.String)">TRACE_OPEN</a>, <a href="RTS_File.html#trySelectFile(java.lang.String)">trySelectFile</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-simula.runtime.RTS_CLASS">Methods inherited from class&nbsp;simula.runtime.<a href="RTS_CLASS.html" title="class in simula.runtime">RTS_CLASS</a></h3>
<code><a href="RTS_CLASS.html#_START()">_START</a>, <a href="RTS_CLASS.html#run()">run</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-simula.runtime.RTS_BASICIO">Methods inherited from class&nbsp;simula.runtime.<a href="RTS_BASICIO.html" title="class in simula.runtime">RTS_BASICIO</a></h3>
<code><a href="RTS_BASICIO.html#terminate_program()">terminate_program</a>, <a href="RTS_BASICIO.html#toString()">toString</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-simula.runtime.RTS_ENVIRONMENT">Methods inherited from class&nbsp;simula.runtime.<a href="RTS_ENVIRONMENT.html" title="class in simula.runtime">RTS_ENVIRONMENT</a></h3>
<code><a href="RTS_ENVIRONMENT.html#_char(int)">_char</a>, <a href="RTS_ENVIRONMENT.html#abs(double)">abs</a>, <a href="RTS_ENVIRONMENT.html#abs(float)">abs</a>, <a href="RTS_ENVIRONMENT.html#abs(int)">abs</a>, <a href="RTS_ENVIRONMENT.html#addepsilon(double)">addepsilon</a>, <a href="RTS_ENVIRONMENT.html#addepsilon(float)">addepsilon</a>, <a href="RTS_ENVIRONMENT.html#arccos(double)">arccos</a>, <a href="RTS_ENVIRONMENT.html#arcsin(double)">arcsin</a>, <a href="RTS_ENVIRONMENT.html#arctan(double)">arctan</a>, <a href="RTS_ENVIRONMENT.html#arctan2(double,double)">arctan2</a>, <a href="RTS_ENVIRONMENT.html#blanks(int)">blanks</a>, <a href="RTS_ENVIRONMENT.html#Char(int)">Char</a>, <a href="RTS_ENVIRONMENT.html#clocktime()">clocktime</a>, <a href="RTS_ENVIRONMENT.html#copy(simula.runtime.RTS_TXT)">copy</a>, <a href="RTS_ENVIRONMENT.html#cos(double)">cos</a>, <a href="RTS_ENVIRONMENT.html#cosh(double)">cosh</a>, <a href="RTS_ENVIRONMENT.html#cotan(double)">cotan</a>, <a href="RTS_ENVIRONMENT.html#cputime()">cputime</a>, <a href="RTS_ENVIRONMENT.html#datetime()">datetime</a>, <a href="RTS_ENVIRONMENT.html#decimalmark(char)">decimalmark</a>, <a href="RTS_ENVIRONMENT.html#DEFEXCEPTION(simula.runtime.RTS_PRCQNT)">DEFEXCEPTION</a>, <a href="RTS_ENVIRONMENT.html#digit(char)">digit</a>, <a href="RTS_ENVIRONMENT.html#discrete(simula.runtime.RTS_REALTYPE_ARRAY,simula.runtime.RTS_NAME)">discrete</a>, <a href="RTS_ENVIRONMENT.html#draw(double,simula.runtime.RTS_NAME)">draw</a>, <a href="RTS_ENVIRONMENT.html#edfix(double,int)">edfix</a>, <a href="RTS_ENVIRONMENT.html#edfix(float,int)">edfix</a>, <a href="RTS_ENVIRONMENT.html#edit(boolean)">edit</a>, <a href="RTS_ENVIRONMENT.html#edit(char)">edit</a>, <a href="RTS_ENVIRONMENT.html#edit(double)">edit</a>, <a href="RTS_ENVIRONMENT.html#edit(float)">edit</a>, <a href="RTS_ENVIRONMENT.html#edit(int)">edit</a>, <a href="RTS_ENVIRONMENT.html#edit(long)">edit</a>, <a href="RTS_ENVIRONMENT.html#edtime(double)">edtime</a>, <a href="RTS_ENVIRONMENT.html#edtime(float)">edtime</a>, <a href="RTS_ENVIRONMENT.html#entier(double)">entier</a>, <a href="RTS_ENVIRONMENT.html#Erlang(double,double,simula.runtime.RTS_NAME)">Erlang</a>, <a href="RTS_ENVIRONMENT.html#error(simula.runtime.RTS_TXT)">error</a>, <a href="RTS_ENVIRONMENT.html#exp(double)">exp</a>, <a href="RTS_ENVIRONMENT.html#getIntInfo(int)">getIntInfo</a>, <a href="RTS_ENVIRONMENT.html#getTextInfo(int)">getTextInfo</a>, <a href="RTS_ENVIRONMENT.html#giveIntInfo(int,int)">giveIntInfo</a>, <a href="RTS_ENVIRONMENT.html#giveTextInfo(int,simula.runtime.RTS_TXT)">giveTextInfo</a>, <a href="RTS_ENVIRONMENT.html#hash(simula.runtime.RTS_TXT)">hash</a>, <a href="RTS_ENVIRONMENT.html#histd(simula.runtime.RTS_REALTYPE_ARRAY,simula.runtime.RTS_NAME)">histd</a>, <a href="RTS_ENVIRONMENT.html#histo(simula.runtime.RTS_REAL_ARRAY,simula.runtime.RTS_REAL_ARRAY,float,float)">histo</a>, <a href="RTS_ENVIRONMENT.html#isochar(int)">isochar</a>, <a href="RTS_ENVIRONMENT.html#isorank(char)">isorank</a>, <a href="RTS_ENVIRONMENT.html#letter(char)">letter</a>, <a href="RTS_ENVIRONMENT.html#linear(simula.runtime.RTS_REALTYPE_ARRAY,simula.runtime.RTS_REALTYPE_ARRAY,simula.runtime.RTS_NAME)">linear</a>, <a href="RTS_ENVIRONMENT.html#ln(double)">ln</a>, <a href="RTS_ENVIRONMENT.html#loadChar(simula.runtime.RTS_TXT,int)">loadChar</a>, <a href="RTS_ENVIRONMENT.html#log10(double)">log10</a>, <a href="RTS_ENVIRONMENT.html#lowcase(simula.runtime.RTS_TXT)">lowcase</a>, <a href="RTS_ENVIRONMENT.html#lowerbound(simula.runtime.RTS_ARRAY,int)">lowerbound</a>, <a href="RTS_ENVIRONMENT.html#lowten(char)">lowten</a>, <a href="RTS_ENVIRONMENT.html#max(char,char)">max</a>, <a href="RTS_ENVIRONMENT.html#max(double,double)">max</a>, <a href="RTS_ENVIRONMENT.html#max(double,float)">max</a>, <a href="RTS_ENVIRONMENT.html#max(double,int)">max</a>, <a href="RTS_ENVIRONMENT.html#max(float,double)">max</a>, <a href="RTS_ENVIRONMENT.html#max(float,float)">max</a>, <a href="RTS_ENVIRONMENT.html#max(float,int)">max</a>, <a href="RTS_ENVIRONMENT.html#max(int,double)">max</a>, <a href="RTS_ENVIRONMENT.html#max(int,float)">max</a>, <a href="RTS_ENVIRONMENT.html#max(int,int)">max</a>, <a href="RTS_ENVIRONMENT.html#max(simula.runtime.RTS_TXT,simula.runtime.RTS_TXT)">max</a>, <a href="RTS_ENVIRONMENT.html#min(char,char)">min</a>, <a href="RTS_ENVIRONMENT.html#min(double,double)">min</a>, <a href="RTS_ENVIRONMENT.html#min(double,float)">min</a>, <a href="RTS_ENVIRONMENT.html#min(double,int)">min</a>, <a href="RTS_ENVIRONMENT.html#min(float,double)">min</a>, <a href="RTS_ENVIRONMENT.html#min(float,float)">min</a>, <a href="RTS_ENVIRONMENT.html#min(float,int)">min</a>, <a href="RTS_ENVIRONMENT.html#min(int,double)">min</a>, <a href="RTS_ENVIRONMENT.html#min(int,float)">min</a>, <a href="RTS_ENVIRONMENT.html#min(int,int)">min</a>, <a href="RTS_ENVIRONMENT.html#min(simula.runtime.RTS_TXT,simula.runtime.RTS_TXT)">min</a>, <a href="RTS_ENVIRONMENT.html#mod(int,int)">mod</a>, <a href="RTS_ENVIRONMENT.html#negexp(double,simula.runtime.RTS_NAME)">negexp</a>, <a href="RTS_ENVIRONMENT.html#normal(double,double,simula.runtime.RTS_NAME)">normal</a>, <a href="RTS_ENVIRONMENT.html#Poisson(double,simula.runtime.RTS_NAME)">Poisson</a>, <a href="RTS_ENVIRONMENT.html#printStaticChain()">printStaticChain</a>, <a href="RTS_ENVIRONMENT.html#printThreadList(boolean)">printThreadList</a>, <a href="RTS_ENVIRONMENT.html#randint(int,int,simula.runtime.RTS_NAME)">randint</a>, <a href="RTS_ENVIRONMENT.html#rank(char)">rank</a>, <a href="RTS_ENVIRONMENT.html#rem(int,int)">rem</a>, <a href="RTS_ENVIRONMENT.html#rts_utility(int,int)">rts_utility</a>, <a href="RTS_ENVIRONMENT.html#sign(double)">sign</a>, <a href="RTS_ENVIRONMENT.html#simulaid()">simulaid</a>, <a href="RTS_ENVIRONMENT.html#sin(double)">sin</a>, <a href="RTS_ENVIRONMENT.html#sinh(double)">sinh</a>, <a href="RTS_ENVIRONMENT.html#sqrt(double)">sqrt</a>, <a href="RTS_ENVIRONMENT.html#storeChar(char,simula.runtime.RTS_TXT,int)">storeChar</a>, <a href="RTS_ENVIRONMENT.html#subepsilon(double)">subepsilon</a>, <a href="RTS_ENVIRONMENT.html#subepsilon(float)">subepsilon</a>, <a href="RTS_ENVIRONMENT.html#tan(double)">tan</a>, <a href="RTS_ENVIRONMENT.html#tanh(double)">tanh</a>, <a href="RTS_ENVIRONMENT.html#uniform(double,double,simula.runtime.RTS_NAME)">uniform</a>, <a href="RTS_ENVIRONMENT.html#upcase(simula.runtime.RTS_TXT)">upcase</a>, <a href="RTS_ENVIRONMENT.html#upperbound(simula.runtime.RTS_ARRAY,int)">upperbound</a>, <a href="RTS_ENVIRONMENT.html#waitSomeTime(int)">waitSomeTime</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-simula.runtime.RTS_RTObject">Methods inherited from class&nbsp;simula.runtime.<a href="RTS_RTObject.html" title="class in simula.runtime">RTS_RTObject</a></h3>
<code><a href="RTS_RTObject.html#_GOTO(simula.runtime.RTS_LABEL)">_GOTO</a>, <a href="RTS_RTObject.html#_JUMPTABLE(int,int)">_JUMPTABLE</a>, <a href="RTS_RTObject.html#_SIM_LABEL(int)">_SIM_LABEL</a>, <a href="RTS_RTObject.html#_TREAT_GOTO_CATCH_BLOCK(simula.runtime.RTS_RTObject,simula.runtime.RTS_LABEL)">_TREAT_GOTO_CATCH_BLOCK</a>, <a href="RTS_RTObject.html#_VALUE(boolean)">_VALUE</a>, <a href="RTS_RTObject.html#arrayValue(java.lang.Object)">arrayValue</a>, <a href="RTS_RTObject.html#BBLK()">BBLK</a>, <a href="RTS_RTObject.html#booleanValue(java.lang.Object)">booleanValue</a>, <a href="RTS_RTObject.html#call(simula.runtime.RTS_RTObject)">call</a>, <a href="RTS_RTObject.html#call(simula.runtime.RTS_RTObject,int)">call</a>, <a href="RTS_RTObject.html#charValue(java.lang.Object)">charValue</a>, <a href="RTS_RTObject.html#CONC(simula.runtime.RTS_TXT,simula.runtime.RTS_TXT)">CONC</a>, <a href="RTS_RTObject.html#detach()">detach</a>, <a href="RTS_RTObject.html#detach(int)">detach</a>, <a href="RTS_RTObject.html#detach(simula.runtime.RTS_RTObject)">detach</a>, <a href="RTS_RTObject.html#doubleValue(java.lang.Object)">doubleValue</a>, <a href="RTS_RTObject.html#EBLK()">EBLK</a>, <a href="RTS_RTObject.html#edObjectAttributes()">edObjectAttributes</a>, <a href="RTS_RTObject.html#edObjectIdent()">edObjectIdent</a>, <a href="RTS_RTObject.html#floatValue(java.lang.Object)">floatValue</a>, <a href="RTS_RTObject.html#intValue(java.lang.Object)">intValue</a>, <a href="RTS_RTObject.html#isDetachUsed()">isDetachUsed</a>, <a href="RTS_RTObject.html#isQPSystemBlock()">isQPSystemBlock</a>, <a href="RTS_RTObject.html#objectTraceIdentifier()">objectTraceIdentifier</a>, <a href="RTS_RTObject.html#objectTraceIdentifier(simula.runtime.RTS_RTObject)">objectTraceIdentifier</a>, <a href="RTS_RTObject.html#objectValue(java.lang.Object)">objectValue</a>, <a href="RTS_RTObject.html#procValue(java.lang.Object)">procValue</a>, <a href="RTS_RTObject.html#resume(simula.runtime.RTS_RTObject)">resume</a>, <a href="RTS_RTObject.html#resume(simula.runtime.RTS_RTObject,boolean)">resume</a>, <a href="RTS_RTObject.html#resume(simula.runtime.RTS_RTObject,int)">resume</a>, <a href="RTS_RTObject.html#swapCoroutines()">swapCoroutines</a>, <a href="RTS_RTObject.html#sysin()">sysin</a>, <a href="RTS_RTObject.html#sysout()">sysout</a>, <a href="RTS_RTObject.html#TRACE_GOTO(java.lang.String,simula.runtime.RTS_LABEL)">TRACE_GOTO</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="_LOC">
<h3>_LOC</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">_LOC</span></div>
<div class="block">The variable LOC contains the current ordinal number. When the file is
closed, the value of LOC is set to zero. The procedure &quot;location&quot; gives
access to the current value of LOC.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="_MAXLOC">
<h3>_MAXLOC</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">_MAXLOC</span></div>
<div class="block">The variable MAXLOC indicates the maximum possible location on the external
file. If this is not meaningful MAXLOC has the value of &quot;maxint&quot;-1. The
procedure &quot;maxloc&quot; gives access to the current MAXLOC value.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="_LOCKED">
<h3>_LOCKED</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">_LOCKED</span></div>
<div class="block">The variable &quot;LOCKED&quot; indicates whether the file is currently locked by the
executing program. The procedure &quot;locked&quot; returns the current value.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="_RECORDSIZE">
<h3>_RECORDSIZE</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">_RECORDSIZE</span></div>
<div class="block">The variable &quot;RECORDSIZE&quot; is the fixed size of all external images. It is set
by &quot;open&quot; and subdivide the external file into series of external images,
without any image separating characters.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="randomAccessFile">
<h3>randomAccessFile</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/io/RandomAccessFile.html" title="class or interface in java.io" class="external-link">RandomAccessFile</a></span>&nbsp;<span class="element-name">randomAccessFile</span></div>
<div class="block">The underlying RandomAccessFile used.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="fileLock">
<h3>fileLock</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="https://download.java.net/java/early_access/jdk24/docs/api/java.base/java/nio/channels/FileLock.html" title="class or interface in java.nio.channels" class="external-link">FileLock</a></span>&nbsp;<span class="element-name">fileLock</span></div>
<div class="block">The underlying FileLock</div>
</div>
</section>
</li>
<li>
<section class="detail" id="INITIAL_LAST_LOC">
<h3>INITIAL_LAST_LOC</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">INITIAL_LAST_LOC</span></div>
<div class="block">The initial value of LAST_LOC</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(simula.runtime.RTS_RTObject,simula.runtime.RTS_TXT)">
<h3>RTS_Directfile</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">RTS_Directfile</span><wbr><span class="parameters">(<a href="RTS_RTObject.html" title="class in simula.runtime">RTS_RTObject</a>&nbsp;SL,
 <a href="RTS_TXT.html" title="class in simula.runtime">RTS_TXT</a>&nbsp;FN)</span></div>
<div class="block">Create a new _Directbytefile.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>SL</code> - staticLink</dd>
<dd><code>FN</code> - file name</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="_STM()">
<h3>_STM</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="RTS_Directfile.html" title="class in simula.runtime">RTS_Directfile</a></span>&nbsp;<span class="element-name">_STM</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="RTS_RTObject.html#_STM()">RTS_RTObject</a></code></span></div>
<div class="block">Method representing the Statements in this Block
<br>
This method is virtual and must be redefined in blocks.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="RTS_Imagefile.html#_STM()">_STM</a></code>&nbsp;in class&nbsp;<code><a href="RTS_Imagefile.html" title="class in simula.runtime">RTS_Imagefile</a></code></dd>
<dt>Returns:</dt>
<dd>a pointer to this _RTObject</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="location()">
<h3>location</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">location</span>()</div>
<div class="block">The procedure &quot;location&quot; returns the current value of LOC.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current read/write position.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="endfile()">
<h3>endfile</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">endfile</span>()</div>
<div class="block">The variable ENDFILE is true when the file is closed or when an image with
location greater than &quot;lastloc&quot; has been input (through &quot;inimage&quot;). It is set
after each &quot;inimage&quot; statement. The procedure &quot;endfile&quot; returns the current
value.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the resulting boolean.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="locked()">
<h3>locked</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">locked</span>()</div>
<div class="block">Returns the value _LOCKED.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the value _LOCKED.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="open(simula.runtime.RTS_TXT)">
<h3>open</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">open</span><wbr><span class="parameters">(<a href="RTS_TXT.html" title="class in simula.runtime">RTS_TXT</a>&nbsp;IMAGE)</span></div>
<div class="block"><p>The procedure open.</p>
<pre>
 Boolean procedure open(fileimage);  text fileimage;
    if ... then begin ...  ! see 10.1.2;
       MAXLOC := ... ; ! See below;
       image  :- fileimage;
       setpos(1);
       locate(1);
       open   := OPEN := true;
       end open;
</pre>
<p>The procedure &quot;open&quot; locates the first image of the file. The length of
&quot;image&quot; must, at all &quot;inimage&quot; and &quot;outimage&quot; statements, be identical to the
length of &quot;image&quot; at the &quot;open&quot; call. The value assigned to MAXLOC at &quot;open&quot;
is either a maximum length determined from the external file, or it is
&quot;maxint&quot;-1 if no such length exists.</p>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>IMAGE</code> - the file's image.</dd>
<dt>Returns:</dt>
<dd>true:ok, false:error</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block"><p>The procedure close.</p>
<pre>
Boolean procedure close;
   if OPEN then begin ...
      image :- notext;
      if LOCKED then unlock;
      LOC   := MAXLOC := 0;
      ... ;
      OPEN  := false;
      close := ENDFILE := true;
end close;
</pre>
</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true:ok, false:error</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="locate(int)">
<h3>locate</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">locate</span><wbr><span class="parameters">(int&nbsp;p)</span></div>
<div class="block"><p>The procedure locate.</p>
<p>The procedure &quot;locate&quot; is used to assign a given value to the variable _LOC.
A parameter value to &quot;locate&quot; which is less than one or greater than MAXLOC
constitutes a run-time error.</p>
<pre>
 procedure locate(i); integer i;
    if i<1 or i>MAXLOC then error("..." ! Parameter out of range; )
    else begin
       LOC:= i;
        ... ;
 end locate;	 *
</pre>
<p>In this implementation we use the method seek(p) which sets the file-pointer
offset, measured from the beginning of this file, at which the next read or
write occurs. The offset may be set beyond the end of the file. Setting the
offset beyond the end of the file does not change the file length. The file
length will change only by writing after the offset has been set beyond the
end of the file.</p>
<p>Parameters: pos - the offset position, measured in bytes from the beginning
of the file, at which to set the file pointer.</p>
<p>Throws: IOException - if pos is less than 0 or if an I/O error occurs.</p>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>p</code> - desired location.</dd>
<dt>Throws:</dt>
<dd><code><a href="RTS_SimulaRuntimeError.html" title="class in simula.runtime">RTS_SimulaRuntimeError</a></code> - when unable to perform the operation.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="lastloc()">
<h3>lastloc</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">lastloc</span>()</div>
<div class="block"><p>The procedure lastloc.</p>
<pre>
integer procedure lastloc;
   if not OPEN then error("..." ! file closed; )
   else lastloc := ...;
</pre>
<p>The procedure &quot;lastloc&quot; indicates the largest location of any written image.
For a new file the value returned is zero.</p>
</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The current last written location.</dd>
<dt>Throws:</dt>
<dd><code><a href="RTS_SimulaRuntimeError.html" title="class in simula.runtime">RTS_SimulaRuntimeError</a></code> - when unable to perform the operation.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="maxloc()">
<h3>maxloc</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">maxloc</span>()</div>
<div class="block"><p>The procedure maxloc.</p>
<pre>
 integer procedure maxloc;
    if not OPEN then error("..." ! file closed; )
    else  maxloc := MAXLOC;
</pre>
<p>The value assigned to MAXLOC at &quot;open&quot; is either a maximum length determined
from the external file, or it is &quot;maxint&quot;-1 if no such length exists.</p>
</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the value _MAXLOC.</dd>
<dt>Throws:</dt>
<dd><code><a href="RTS_SimulaRuntimeError.html" title="class in simula.runtime">RTS_SimulaRuntimeError</a></code> - if the file is not open.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="inimage()">
<h3>inimage</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">inimage</span>()</div>
<div class="block"><p>The Procedure Inimage.</p>
<pre>
procedure inimage;
   if not OPEN then error("..." !file closed; )
   else begin
      setpos(1);
      ENDFILE:= LOC > lastloc;
      if ENDFILE then image:= "!25!" else
      if ... ! external written image at LOC exists ; then
         ... ! transfer to "image";...
      else begin
         while more do image.putchar('!0!')
         ! Note: now pos = length+1;
      end not written;
      locate(LOC+1)   ! Location for *next* image;
end inimage;
</pre>
<p>The procedure &quot;inimage&quot; transfers into the text &quot;image&quot; a copy of the
external image as currently identified by the variable LOC. If the file does
not contain an image with an ordinal number equal to the value of LOC, the
effect of the procedure &quot;inimage&quot; is as follows. If the location indicated is
greater than &quot;lastloc&quot;, then ENDFILE is set to true and the end of file text
(&quot;!25!&quot;) is assigned to &quot;image&quot;. Otherwise, if the image is a non-written
image but there exists at least one written image whose LOC is greater than
current LOC, then the &quot;image&quot; is filled with NUL ('!0!') characters and the
position indicator is set to &quot;length&quot;+1 (i.e. &quot;more&quot; becomes false). Finally
the value of LOC is incremented by one through a &quot;locate&quot; call.</p>
</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="RTS_Imagefile.html#inimage()">inimage</a></code>&nbsp;in class&nbsp;<code><a href="RTS_Imagefile.html" title="class in simula.runtime">RTS_Imagefile</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="RTS_SimulaRuntimeError.html" title="class in simula.runtime">RTS_SimulaRuntimeError</a></code> - when unable to perform the operation.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="outimage()">
<h3>outimage</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">outimage</span>()</div>
<div class="block"><p>The procedure outimage.</p>
<pre>
procedure outimage;
   if      not OPEN     then error("..." !file closed; )
   else if LOC > MAXLOC then error("..." ! file overflow; );
   else begin
       ... ; ! output "image" to external image at LOC;
      locate(LOC+1);
      image := notext;
      setpos(1)
end outimage;
</pre>
<p>The procedure &quot;outimage&quot; transfers a copy of the text value &quot;image&quot; to the
external image, thereby storing in the file an external image whose ordinal
number is equal to the current value of LOC. If the file contains another
image with the same ordinal number, that image is overwritten. The value of
LOC is then incremented by one through a &quot;locate&quot; call.</p>
</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="RTS_Imagefile.html#outimage()">outimage</a></code>&nbsp;in class&nbsp;<code><a href="RTS_Imagefile.html" title="class in simula.runtime">RTS_Imagefile</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="RTS_SimulaRuntimeError.html" title="class in simula.runtime">RTS_SimulaRuntimeError</a></code> - when unable to perform the operation.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="deleteimage()">
<h3>deleteimage</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">deleteimage</span>()</div>
<div class="block"><p>The procedure deleteimage.</p>
<pre>
Boolean procedure deleteimage;
           if OPEN and then ... ! image LOC was written;
           then begin
              ... ; ! attempt to delete image;
              if ... ! delete operation successful;
              then begin
                 deleteimage := true;
                 locate(LOC+1);
              end successful
           end deleteimage;
</pre>
<p>The Boolean procedure &quot;deleteimage&quot; makes the image identified by the current
value of LOC effectively un-written. Irrespective of any physical differences
on the external medium between never-written images and deleted ones, there
is no difference from the program's point of view. Note that this means that
&quot;deleteimage&quot; may decrement the value returned by &quot;lastloc&quot; (in case LOC was
equal to &quot;lastloc&quot;).</p>
<p>Note: Outputting a NUL-filled image at location &quot;lastloc&quot; in the file does
not necessarily decrement the &quot;lastloc&quot; value; explicit writing (outimage) of
such images should be avoided.</p>
</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true:ok, false:error</dd>
<dt>Throws:</dt>
<dd><code><a href="RTS_SimulaRuntimeError.html" title="class in simula.runtime">RTS_SimulaRuntimeError</a></code> - when unable to perform the operation.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="checkpoint()">
<h3>checkpoint</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">checkpoint</span>()</div>
<div class="block"><p>The procedure checkpoint.</p>
<p>All files producing output (sequential output or direct files) contain a
Boolean procedure &quot;checkpoint&quot;. The procedure causes the environment to
attempt to secure the output produced so far. Depending on the nature of the
associated external device, this causes completion of output transfer (i.e.
intermediate buffer contents are transferred).</p>
<p>If this is not possible or meaningful, &quot;checkpoint&quot; is a dummy operation in
which case the value false is returned.</p>
</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true:ok, false:error</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="lock(float,int,int)">
<h3>lock</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">lock</span><wbr><span class="parameters">(float&nbsp;timelimit,
 int&nbsp;loc1,
 int&nbsp;loc2)</span></div>
<div class="block"><p>The procedure lock.</p>
<p>Direct File Locking</p>
<p>Procedure &quot;lock&quot; enables the program to get exclusive access to all or part
of the file. The effect of a &quot;lock&quot; call while the file is locked (&quot;LOCKED&quot;
is true) is that the previous lock is immediately released (prior to the new
locking attempt).</p>
<p>The parameter &quot;timelimit&quot; is the (clock) time in seconds that is the maximum
waiting time for the resource. If &quot;timelimit&quot; is less than or equal to zero,
the procedure returns immediately without performing any actions upon the
file.</p>
<p>The parameters &quot;loc1&quot; and &quot;loc2&quot; identify the part of the file to be locked,
by giving the ordinal numbers of two external images (bytes). The program is
given exclusive access to a part of the file which includes the requested
region. If the two parameters are both zero, this implies locking the whole
file. Otherwise, the size of the part of the file that is actually locked, is
implementation-dependent; it may even include the entire file.</p>
<p>A return value of zero indicates a successful &quot;lock&quot; operation. The value -1
indicates that &quot;timelimit&quot; was exceeded (or was zero or negative). A negative
value less than -1 indicates &quot;lock&quot; failure and its interpretation is
implementation-defined.</p>
<pre>
integer procedure lock(timelimit,loc1,loc2);
                    real timelimit; integer loc1,loc2;
           begin
              lock := -1;
              if timelimit>0.0 then begin
                 if LOCKED then unlock;
                 ... ! try to lock indicated part of file, see below;
                 if !success; then begin LOCKED := true; lock := 0 end
              end
           end lock;
</pre>
<p>The procedures &quot;lock&quot; and &quot;unlock&quot; (see 10.2.2) provide locking mechanisms.
The last two parameters of &quot;lock&quot; indicate the minimum range of (byte)
locations to be locked (inclusive).</p>
<p>It is implemented using:</p>
<pre>
public abstract FileLock lock(long position,long size,boolean shared) throws IOException
</pre>
<p>With Parameters:</p>
<ul>
<li>position - The position at which the locked region is to start; must be
non-negative</li>
<li>size - The size of the locked region; must be non-negative, and the sum
position + size must be non-negative</li>
<li>shared - true to request a shared lock, in which case this channel must
be open for reading (and possibly writing); false to request an exclusive
lock, in which case this channel must be open for writing (and possibly
reading)</li>
</ul>
And Returns: A lock object representing the newly-acquired lock
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>timelimit</code> - argument timelimit</dd>
<dd><code>loc1</code> - argument loc1</dd>
<dd><code>loc2</code> - argument loc2</dd>
<dt>Returns:</dt>
<dd>code, 0:OK otherwise error</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="unlock()">
<h3>unlock</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">unlock</span>()</div>
<div class="block"><p>The procedure unlock.</p>
<pre>
Boolean procedure unlock;
begin
   unlock := checkpoint;
   if LOCKED then begin !release file; LOCKED := false end
end unlock;
</pre>
</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the resulting boolean value</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
